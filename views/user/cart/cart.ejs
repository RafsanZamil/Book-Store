<!-- ... (previous HTML code) ... -->
<table>
  <tr>
    <th>Item</th>
    <th>Total Price</th>
    <th>Action</th> <!-- New column for the Remove button -->
  </tr>
  <% cartItems.forEach(function (cartItem) { %>
  <tr>
    <td><%= cartItem.item %></td>
    <td><%= cartItem.totalPrice %></td>
    <td>
      <button class="remove-button" data-productid="<%= cartItem.productId %>">Remove</button>
    </td>
  </tr>
  <% }); %>
</table>


    <p class="total-price">Total Price: <%= totalPrice %></p>
    <!-- Checkout Button -->
    <div class="checkout-button">
      <a href="/checkout" class="checkout-link">Proceed to Checkout</a>
    </div>
  </div>
</body>
<script>
  // JavaScript code to handle the Remove button click event
  const removeButtons = document.querySelectorAll('.remove-button');

  removeButtons.forEach(button => {
    button.addEventListener('click', function() {
      const productId = this.dataset.productid;
      removeProduct(productId);
    });
  });

  function removeProduct(productId) {
    fetch(`/cart/${productId}`, {
      method: 'DELETE',
    })
    .then(response => {
      if (response.ok) {
        // Redirect the user to the cart page after successful removal
        window.location.href = '/cart';
      } else {
        throw new Error('Failed to remove product from cart.');
      }
    })
    .catch(error => {
      console.error('Error removing product from cart:', error);
      // Optionally display an error message to the user
    });
  }
</script>


<style>

  /* cart.css */
  /* cart.css */
  .card {
    border: 1px solid #ccc;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin: 20px;
    max-width: 400px;
    background-color: #fff;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }

  table,
  th,
  td {
    border: 1px solid #ccc;
    padding: 8px;
  }

  th {
    background-color: #f2f2f2;
  }

  .total-price {
    margin-top: 20px;
    font-weight: bold;
  }

  .checkout-button {
    text-align: center;
    margin-top: 20px;
  }

  .checkout-link {
    display: inline-block;
    padding: 10px 20px;
    background-color: #4caf50;
    color: #fff;
    text-decoration: none;
    border-radius: 5px;
  }

  /* Add more styles as needed */
</style>
